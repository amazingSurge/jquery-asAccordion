/*! jQuery asAccordion - v0.1.0 - 2014-11-06
* https://github.com/amazingSurge/jquery-asAccordion
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a,b,c,d){"use strict";var e="asAccordion",f={transition:function(){var c,e,f="",g=!1,h=b.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(c in i)if(h.style[c]!==d){e=i[c],g=!0;break}return/(WebKit)/i.test(a.navigator.userAgent)&&(f="-webkit-"),{prefix:f,end:e,supported:g}}},g=c[e]=function(a,b){this.element=a,this.$element=c(a),this.options=c.extend({},g.defaults,b,this.$element.data()),this._plugin=e,this.namespace=this.options.namespace,this.initialIndex=this.options.initialIndex,this.initialized=!1,this.disabled=!1,this.current=null,this.classes={skin:this.namespace+"--"+this.options.skin,direction:this.namespace+"--"+this.options.direction,active:this.namespace+"--active",disabled:this.namespace+"--disabled"},this.$panel=this.$element.children("li"),this.$heading=this.$panel.children("span"),this.$expander=this.$panel.children("div"),this.size=this.$panel.length,this.$element.addClass(this.classes.direction),this.$panel.addClass(this.namespace+"__panel"),this.$heading.addClass(this.namespace+"__heading"),this.$expander.addClass(this.namespace+"__expander"),this.options.skin&&this.$element.addClass(this.classes.skin),this.transition=f.transition(),this._trigger("init"),this.init()};g.prototype={constructor:g,init:function(){var b=this,d={};this.distance=this.$heading.outerHeight(),this.animateProperty="vertical"===this.options.direction?"height":"width",d[this.animateProperty]=this.distance,this.$panel.css(d),this.$heading.on(this.options.event,function(a){if(b.disabled)return!1;var d=c(a.currentTarget).parent().index();return b.set(d),!1}),this.set(this.initialIndex),this.current=this.initialIndex,this.initialized=!0,this.responsive.init(this),c(a).on("resize",this._throttle(function(){b.responsive.init(b)},250)),this._trigger("ready")},_trigger:function(a){var b=Array.prototype.slice.call(arguments,1),c=[this].concat(b);this.$element.trigger("asAccordion::"+a,c),a=a.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)});var d="on"+a;"function"==typeof this.options[d]&&this.options[d].apply(this,b)},responsive:{init:function(a){if(c("html, body").outerWidth()<=a.options.mobile_breakpoint&&!this.responsive){if("vertical"===a.options.direction)return!1;this.responsive=!0,this.resize(a)}else{if("undefined"==typeof a.default_direction||"vertical"===a.default_direction)return!1;this.responsive=!1,this.resize(a)}},resize:function(a){var b={};if(a.default_direction=a.options.direction,"vertical"===a.options.direction?(a.options.direction="horizontal",a.animateProperty="width",a.$panel.css("height","100%")):(a.options.direction="vertical",a.animateProperty="height",a.$panel.css("width","auto")),a.$element.removeClass(a.classes.direction),a.classes.direction=a.namespace+"--"+a.options.direction,a.$element.addClass(a.classes.direction),b[a.animateProperty]=a.distance,a.$panel.css(b).removeClass(a.classes.active),a.current.length>=0||a.current>=0){var c=a.current;a.current=a.current.length>=0?[]:null,a.set(c)}}},set:function(a){if(c.isArray(a))for(var b in a)this.set(a[b]);else if(!(a>=this.size||0>a)){var d,e,f=this,g=this.$panel.eq(a),h=this.$element.find("."+this.classes.active),i={},j={},k=function(){"function"==typeof callback&&callback.call(f),f.$element.trigger("moveEnd")};if("undefined"==typeof e&&(e=this.options.speed),e=Math.ceil(e),g.hasClass(this.classes.active))if(d=this.distance,g.removeClass(this.classes.active),this.options.multiple){var l;for(var b in this.current)this.current[b]==a&&(l=b,this.current.splice(b,1))}else this.current=null;else d="vertical"===this.options.direction?g.find("."+this.namespace+"__expander").outerHeight()+this.distance:g.find("."+this.namespace+"__expander").outerWidth()+this.distance,this.options.multiple&&c.isArray(this.current)?this.current.push(a):this.current=a,this.options.multiple?g.addClass(this.classes.active):(j[this.animateProperty]=this.distance,this.animate(h,j,e,this.options.easing,k),g.addClass(this.classes.active).siblings().removeClass(this.classes.active));i[this.animateProperty]=d,this.animate(g,i,e,f.options.easing,k)}},animate:function(b,c,d,e,f){var g=this;this.transition.supported?a.setTimeout(function(){g.insertRule(".transition_"+e+" {"+g.transition.prefix+"transition: all "+d+"ms "+e+" 0s;}"),b.addClass("transition_"+e).one(g.transition.end,function(){b.removeClass("transition_"+e),f.call(this)}),b.css(c)},10):b.animate(c,d,e,f)},insertRule:function(a){if(!this.rules||!this.rules[a])if(this.rules===d?this.rules={}:this.rules[a]=!0,b.styleSheets&&b.styleSheets.length)b.styleSheets[0].insertRule(a,0);else{var c=b.createElement("style");c.innerHTML=a,b.head.appendChild(c)}},_throttle:function(a,b){var c,d,e,f=Date.now||function(){return(new Date).getTime()},g=null,h=0,i=function(){h=f(),g=null,e=a.apply(c,d),c=d=null};return function(){var j=f(),k=b-(j-h);return c=this,d=arguments,0>=k?(clearTimeout(g),g=null,h=j,e=a.apply(c,d),c=d=null):g||(g=setTimeout(i,k)),e}},enable:function(){this.disabled=!1,this.$element.removeClass(this.classes.disabled)},disable:function(){this.disabled=!0,this.$element.addClass(this.classes.disabled)},destory:function(){this.$element.data(e,null),this.$element.remove(),this._trigger("destory")}},g.defaults={namespace:e,skin:null,mobile_breakpoint:768,initialIndex:0,easing:"ease-in-out",speed:500,direction:"vertical",event:"click",multiple:!1},c.fn[e]=function(a){if("string"!=typeof a)return this.each(function(){c.data(this,e)||c.data(this,e,new g(this,a))});var b=a,d=Array.prototype.slice.call(arguments,1);if(/^\_/.test(b))return!1;if("get"!==b)return this.each(function(){var a=c.data(this,e);a&&"function"==typeof a[b]&&a[b].apply(a,d)});var f=this.first().data(e);return f&&"function"==typeof f[b]?f[b].apply(f,d):void 0}}(window,document,jQuery);